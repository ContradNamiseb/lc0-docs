<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Leela Chess Zero: lczero::PositionHistory Class Reference</title>
<link href="../css/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/dynsections.js"></script>
<link href="../css/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/resize.js"></script>
<script type="text/javascript" src="../js/navtreedata.js"></script>
<script type="text/javascript" src="../js/navtree.js"></script>
<link href="../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../search/searchdata.js"></script>
<script type="text/javascript" src="../search/search.js"></script>
<link href="../css/doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Leela Chess Zero<span id="projectnumber">&#160;dev</span>
   </div>
   <div id="projectbrief">Neural network based chess engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../js/menudata.js"></script>
<script type="text/javascript" src="../js/menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classlczero_1_1PositionHistory.html','../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlczero_1_1PositionHistory-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lczero::PositionHistory Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Maintains a history of chess positions in a game.  
 <a href="classlczero_1_1PositionHistory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="position_8h_source.html">position.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9186958314cafdf87ec5b62c9c4f596" id="r_ab9186958314cafdf87ec5b62c9c4f596"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#ab9186958314cafdf87ec5b62c9c4f596">PositionHistory</a> ()=default</td></tr>
<tr class="memdesc:ab9186958314cafdf87ec5b62c9c4f596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for an empty position history.  <br /></td></tr>
<tr class="separator:ab9186958314cafdf87ec5b62c9c4f596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147081b7d4dce8ea98202b704d184d7c" id="r_a147081b7d4dce8ea98202b704d184d7c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a147081b7d4dce8ea98202b704d184d7c">PositionHistory</a> (const <a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;other)=default</td></tr>
<tr class="memdesc:a147081b7d4dce8ea98202b704d184d7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor to duplicate a position history.  <br /></td></tr>
<tr class="separator:a147081b7d4dce8ea98202b704d184d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b52d45bf1ae5f402361033373067e5" id="r_ab2b52d45bf1ae5f402361033373067e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#ab2b52d45bf1ae5f402361033373067e5">PositionHistory</a> (<a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&amp;other)=default</td></tr>
<tr class="memdesc:ab2b52d45bf1ae5f402361033373067e5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlczero_1_1Move.html" title="Represents a chess move in the Lc0 engine.">Move</a> constructor for efficient transfer of position history.  <br /></td></tr>
<tr class="separator:ab2b52d45bf1ae5f402361033373067e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c9ec2157d539264cd4341b907f27f5" id="r_a59c9ec2157d539264cd4341b907f27f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a59c9ec2157d539264cd4341b907f27f5">PositionHistory</a> (std::span&lt; const <a class="el" href="classlczero_1_1Position.html">Position</a> &gt; positions)</td></tr>
<tr class="memdesc:a59c9ec2157d539264cd4341b907f27f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that initializes the history from a span of positions.  <br /></td></tr>
<tr class="separator:a59c9ec2157d539264cd4341b907f27f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c7bc28eb0f0bda28a575657a98948e" id="r_a19c7bc28eb0f0bda28a575657a98948e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a19c7bc28eb0f0bda28a575657a98948e">operator=</a> (const <a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;other)=default</td></tr>
<tr class="memdesc:a19c7bc28eb0f0bda28a575657a98948e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator for copying position history.  <br /></td></tr>
<tr class="separator:a19c7bc28eb0f0bda28a575657a98948e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8a21c80faf68cf8bff2f76feae473e" id="r_a2a8a21c80faf68cf8bff2f76feae473e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a2a8a21c80faf68cf8bff2f76feae473e">operator=</a> (<a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&amp;other)=default</td></tr>
<tr class="memdesc:a2a8a21c80faf68cf8bff2f76feae473e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlczero_1_1Move.html" title="Represents a chess move in the Lc0 engine.">Move</a> assignment operator for efficient transfer of position history.  <br /></td></tr>
<tr class="separator:a2a8a21c80faf68cf8bff2f76feae473e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9460b9e5c157da40316bdeeb66c253f3" id="r_a9460b9e5c157da40316bdeeb66c253f3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a9460b9e5c157da40316bdeeb66c253f3">Starting</a> () const</td></tr>
<tr class="memdesc:a9460b9e5c157da40316bdeeb66c253f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the first position of the game (or the FEN from which it was initialized).  <br /></td></tr>
<tr class="separator:a9460b9e5c157da40316bdeeb66c253f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c88c46b830873770fe811722aad10ae" id="r_a3c88c46b830873770fe811722aad10ae"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a3c88c46b830873770fe811722aad10ae">Last</a> () const</td></tr>
<tr class="memdesc:a3c88c46b830873770fe811722aad10ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the latest position of the game.  <br /></td></tr>
<tr class="separator:a3c88c46b830873770fe811722aad10ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6dbacd97981b367816bbbc5b30b5ecf" id="r_af6dbacd97981b367816bbbc5b30b5ecf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#af6dbacd97981b367816bbbc5b30b5ecf">GetPositionAt</a> (int <a class="el" href="network__xla_8cc.html#a103fe1fcacccda7d9cdacde44721faef">idx</a>) const</td></tr>
<tr class="memdesc:af6dbacd97981b367816bbbc5b30b5ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the n-th position of the game (0-indexed).  <br /></td></tr>
<tr class="separator:af6dbacd97981b367816bbbc5b30b5ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1195fca5294ecce5d2b31c28b0af7667" id="r_a1195fca5294ecce5d2b31c28b0af7667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a1195fca5294ecce5d2b31c28b0af7667">Trim</a> (int size)</td></tr>
<tr class="memdesc:a1195fca5294ecce5d2b31c28b0af7667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trims the position history to a given size.  <br /></td></tr>
<tr class="separator:a1195fca5294ecce5d2b31c28b0af7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacef66da70f77b031f48b2b5f3bb001d" id="r_aacef66da70f77b031f48b2b5f3bb001d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#aacef66da70f77b031f48b2b5f3bb001d">Reserve</a> (int size)</td></tr>
<tr class="memdesc:aacef66da70f77b031f48b2b5f3bb001d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves capacity to reduce allocation costs during move sequences.  <br /></td></tr>
<tr class="separator:aacef66da70f77b031f48b2b5f3bb001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58ee13dccd016977b7b9755c7a39927" id="r_af58ee13dccd016977b7b9755c7a39927"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#af58ee13dccd016977b7b9755c7a39927">GetLength</a> () const</td></tr>
<tr class="memdesc:af58ee13dccd016977b7b9755c7a39927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of positions currently in the history.  <br /></td></tr>
<tr class="separator:af58ee13dccd016977b7b9755c7a39927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe95b1e359e66d71aac534b43bbd8ab1" id="r_afe95b1e359e66d71aac534b43bbd8ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#afe95b1e359e66d71aac534b43bbd8ab1">Reset</a> (const <a class="el" href="classlczero_1_1ChessBoard.html">ChessBoard</a> &amp;board, int rule50_ply, int game_ply)</td></tr>
<tr class="memdesc:afe95b1e359e66d71aac534b43bbd8ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the history to a given state from a chess board.  <br /></td></tr>
<tr class="separator:afe95b1e359e66d71aac534b43bbd8ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01aede3788a70ae5a2ad5ddaeac7cae0" id="r_a01aede3788a70ae5a2ad5ddaeac7cae0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a01aede3788a70ae5a2ad5ddaeac7cae0">Reset</a> (const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp;pos)</td></tr>
<tr class="memdesc:a01aede3788a70ae5a2ad5ddaeac7cae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the history to a given state from a position.  <br /></td></tr>
<tr class="separator:a01aede3788a70ae5a2ad5ddaeac7cae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae43cabdeac3fc0a5cec144984ee2ca" id="r_a6ae43cabdeac3fc0a5cec144984ee2ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a6ae43cabdeac3fc0a5cec144984ee2ca">Append</a> (<a class="el" href="classlczero_1_1Move.html">Move</a> <a class="el" href="memcache_8cc.html#ac51334f57ef8b81c0629c9421798c344">m</a>)</td></tr>
<tr class="memdesc:a6ae43cabdeac3fc0a5cec144984ee2ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a new position to the history by applying a move.  <br /></td></tr>
<tr class="separator:a6ae43cabdeac3fc0a5cec144984ee2ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96c4b8811cad9badafe7a12cc99e31c" id="r_ad96c4b8811cad9badafe7a12cc99e31c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#ad96c4b8811cad9badafe7a12cc99e31c">Pop</a> ()</td></tr>
<tr class="memdesc:ad96c4b8811cad9badafe7a12cc99e31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the last move from the history.  <br /></td></tr>
<tr class="separator:ad96c4b8811cad9badafe7a12cc99e31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecae91c055d38dda2d1b5de54dcd5718" id="r_aecae91c055d38dda2d1b5de54dcd5718"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30">GameResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#aecae91c055d38dda2d1b5de54dcd5718">ComputeGameResult</a> () const</td></tr>
<tr class="memdesc:aecae91c055d38dda2d1b5de54dcd5718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the endgame state (win/lose/draw/nothing) for the last position.  <br /></td></tr>
<tr class="separator:aecae91c055d38dda2d1b5de54dcd5718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44924455ccd62f0f2f2798dd403ba4f5" id="r_a44924455ccd62f0f2f2798dd403ba4f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a44924455ccd62f0f2f2798dd403ba4f5">IsBlackToMove</a> () const</td></tr>
<tr class="memdesc:a44924455ccd62f0f2f2798dd403ba4f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the next move in the history should be black's.  <br /></td></tr>
<tr class="separator:a44924455ccd62f0f2f2798dd403ba4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b4e8cd1f616cf1e3fdc0ef9d11f4c8" id="r_a29b4e8cd1f616cf1e3fdc0ef9d11f4c8"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a29b4e8cd1f616cf1e3fdc0ef9d11f4c8">HashLast</a> (int positions) const</td></tr>
<tr class="memdesc:a29b4e8cd1f616cf1e3fdc0ef9d11f4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a hash from the last X positions in the history.  <br /></td></tr>
<tr class="separator:a29b4e8cd1f616cf1e3fdc0ef9d11f4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80174968447065f895df635a129f96a" id="r_aa80174968447065f895df635a129f96a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#aa80174968447065f895df635a129f96a">DidRepeatSinceLastZeroingMove</a> () const</td></tr>
<tr class="memdesc:aa80174968447065f895df635a129f96a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for any repetitions since the last time the 50-move rule was reset.  <br /></td></tr>
<tr class="separator:aa80174968447065f895df635a129f96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63bcb96a0eb1194b78a4ab213436e3d" id="r_ad63bcb96a0eb1194b78a4ab213436e3d"><td class="memItemLeft" align="right" valign="top">std::span&lt; const <a class="el" href="classlczero_1_1Position.html">Position</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#ad63bcb96a0eb1194b78a4ab213436e3d">GetPositions</a> () const</td></tr>
<tr class="memdesc:ad63bcb96a0eb1194b78a4ab213436e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a span view of all positions in the history.  <br /></td></tr>
<tr class="separator:ad63bcb96a0eb1194b78a4ab213436e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af0fb2acb8c37095c392289d4faca3de6" id="r_af0fb2acb8c37095c392289d4faca3de6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#af0fb2acb8c37095c392289d4faca3de6">ComputeLastMoveRepetitions</a> (int *cycle_length) const</td></tr>
<tr class="memdesc:af0fb2acb8c37095c392289d4faca3de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the number of repetitions for the last move.  <br /></td></tr>
<tr class="separator:af0fb2acb8c37095c392289d4faca3de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5f0aaf6201ae32b49e1f847f6d6f35d4" id="r_a5f0aaf6201ae32b49e1f847f6d6f35d4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classlczero_1_1Position.html">Position</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlczero_1_1PositionHistory.html#a5f0aaf6201ae32b49e1f847f6d6f35d4">positions_</a></td></tr>
<tr class="memdesc:a5f0aaf6201ae32b49e1f847f6d6f35d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector storing the sequence of positions in the game.  <br /></td></tr>
<tr class="separator:a5f0aaf6201ae32b49e1f847f6d6f35d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Maintains a history of chess positions in a game. </p>
<p>This class stores the sequence of positions from the beginning of the game up to the current position, allowing for repetition detection, game result computation, and move history tracking. It's essential for implementing chess rules like threefold repetition and the 50-move rule. </p>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00143">143</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab9186958314cafdf87ec5b62c9c4f596" name="ab9186958314cafdf87ec5b62c9c4f596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9186958314cafdf87ec5b62c9c4f596">&#9670;&#160;</a></span>PositionHistory() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lczero::PositionHistory::PositionHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor for an empty position history. </p>

</div>
</div>
<a id="a147081b7d4dce8ea98202b704d184d7c" name="a147081b7d4dce8ea98202b704d184d7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147081b7d4dce8ea98202b704d184d7c">&#9670;&#160;</a></span>PositionHistory() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lczero::PositionHistory::PositionHistory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor to duplicate a position history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The other position history to copy from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab2b52d45bf1ae5f402361033373067e5" name="ab2b52d45bf1ae5f402361033373067e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b52d45bf1ae5f402361033373067e5">&#9670;&#160;</a></span>PositionHistory() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lczero::PositionHistory::PositionHistory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlczero_1_1Move.html" title="Represents a chess move in the Lc0 engine.">Move</a> constructor for efficient transfer of position history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The other position history to move from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59c9ec2157d539264cd4341b907f27f5" name="a59c9ec2157d539264cd4341b907f27f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c9ec2157d539264cd4341b907f27f5">&#9670;&#160;</a></span>PositionHistory() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lczero::PositionHistory::PositionHistory </td>
          <td>(</td>
          <td class="paramtype">std::span&lt; const <a class="el" href="classlczero_1_1Position.html">Position</a> &gt;&#160;</td>
          <td class="paramname"><em>positions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that initializes the history from a span of positions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">positions</td><td>Span of positions to initialize the history with. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00158">158</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6ae43cabdeac3fc0a5cec144984ee2ca" name="a6ae43cabdeac3fc0a5cec144984ee2ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae43cabdeac3fc0a5cec144984ee2ca">&#9670;&#160;</a></span>Append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Append </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlczero_1_1Move.html">Move</a>&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appends a new position to the history by applying a move. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The move to apply and append to the history. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00105">105</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="position_8cc_source.html#l00115">ComputeLastMoveRepetitions()</a>, <a class="el" href="position_8h_source.html#l00177">Last()</a>, <a class="el" href="memcache_8cc_source.html#l00048">m</a>, and <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classic_2search_8cc_source.html#l01977">lczero::classic::SearchWorker::ExtendNode()</a>, <a class="el" href="weights_8h_source.html#l00237">lczero::python::GameState::GameState()</a>, <a class="el" href="multigame_8cc_source.html#l00067">lczero::ValueEvaluator::Gather()</a>, <a class="el" href="classic_2search_8cc_source.html#l00622">lczero::classic::Search::GetPositionHistoryAtNode()</a>, <a class="el" href="classic_2node_8cc_source.html#l00513">lczero::classic::NodeTree::MakeMove()</a>, <a class="el" href="game_8cc_source.html#l00131">lczero::SelfPlayGame::Play()</a>, <a class="el" href="encoder__test_8cc_source.html#l00490">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00423">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00286">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00322">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00076">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00060">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00106">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00137">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00092">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00154">lczero::TEST()</a>, and <a class="el" href="position__test_8cc_source.html#l00121">lczero::TEST()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../css/closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a6ae43cabdeac3fc0a5cec144984ee2ca_cgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a6ae43cabdeac3fc0a5cec144984ee2ca_cgraph" alt=""/></div>
<!-- MAP 0 -->
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a6ae43cabdeac3fc0a5cec144984ee2ca_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a6ae43cabdeac3fc0a5cec144984ee2ca_icgraph" alt=""/></div>
<!-- MAP 1 -->
</div>

</div>
</div>
<a id="aecae91c055d38dda2d1b5de54dcd5718" name="aecae91c055d38dda2d1b5de54dcd5718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecae91c055d38dda2d1b5de54dcd5718">&#9670;&#160;</a></span>ComputeGameResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30">GameResult</a> lczero::PositionHistory::ComputeGameResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the endgame state (win/lose/draw/nothing) for the last position. </p>
<dl class="section return"><dt>Returns</dt><dd>The game result based on the current position and rules. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00075">75</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30a50176373bbf8fe5715204a14fadadea1">lczero::BLACK_WON</a>, <a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30a2b4807f24940ca2fe73284bc6e864d66">lczero::DRAW</a>, <a class="el" href="board_8cc_source.html#l00959">lczero::ChessBoard::GenerateLegalMoves()</a>, <a class="el" href="position_8h_source.html#l00098">lczero::Position::GetBoard()</a>, <a class="el" href="position_8h_source.html#l00224">IsBlackToMove()</a>, <a class="el" href="position_8h_source.html#l00177">Last()</a>, <a class="el" href="neural_2wrapper_8cc_source.html#l00161">legal_moves</a>, <a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30a8ba8ac037709b266f6ec856ea77e4489">lczero::UNDECIDED</a>, and <a class="el" href="namespacelczero.html#ab8f8d7eebdf32c9d8aa6098b2b0d0f30a73c75337845a8a0081f229a5ba5e7eea">lczero::WHITE_WON</a>.</p>

<p class="reference">Referenced by <a class="el" href="multigame_8cc_source.html#l00067">lczero::ValueEvaluator::Gather()</a>, and <a class="el" href="game_8cc_source.html#l00131">lczero::SelfPlayGame::Play()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../css/closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_aecae91c055d38dda2d1b5de54dcd5718_cgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_aecae91c055d38dda2d1b5de54dcd5718_cgraph" alt=""/></div>
<!-- MAP 2 -->
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_aecae91c055d38dda2d1b5de54dcd5718_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_aecae91c055d38dda2d1b5de54dcd5718_icgraph" alt=""/></div>
<!-- MAP 3 -->
</div>

</div>
</div>
<a id="af0fb2acb8c37095c392289d4faca3de6" name="af0fb2acb8c37095c392289d4faca3de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fb2acb8c37095c392289d4faca3de6">&#9670;&#160;</a></span>ComputeLastMoveRepetitions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lczero::PositionHistory::ComputeLastMoveRepetitions </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cycle_length</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the number of repetitions for the last move. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cycle_length</td><td>Pointer to store the cycle length if repetitions are found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of repetitions for the last move. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00115">115</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="network__xla_8cc_source.html#l00063">idx</a>, and <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="position_8cc_source.html#l00105">Append()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_af0fb2acb8c37095c392289d4faca3de6_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_af0fb2acb8c37095c392289d4faca3de6_icgraph" alt=""/></div>
<!-- MAP 4 -->
</div>

</div>
</div>
<a id="aa80174968447065f895df635a129f96a" name="aa80174968447065f895df635a129f96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80174968447065f895df635a129f96a">&#9670;&#160;</a></span>DidRepeatSinceLastZeroingMove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lczero::PositionHistory::DidRepeatSinceLastZeroingMove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for any repetitions since the last time the 50-move rule was reset. </p>
<p>This detects if the same position has occurred multiple times since the last capture or pawn move that would reset the 50-move counter. </p><dl class="section return"><dt>Returns</dt><dd>True if a repetition has occurred since the last zeroing move, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00132">132</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="position__test_8cc_source.html#l00106">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00137">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00092">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00154">lczero::TEST()</a>, and <a class="el" href="position__test_8cc_source.html#l00121">lczero::TEST()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_aa80174968447065f895df635a129f96a_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_aa80174968447065f895df635a129f96a_icgraph" alt=""/></div>
<!-- MAP 5 -->
</div>

</div>
</div>
<a id="af58ee13dccd016977b7b9755c7a39927" name="af58ee13dccd016977b7b9755c7a39927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58ee13dccd016977b7b9755c7a39927">&#9670;&#160;</a></span>GetLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lczero::PositionHistory::GetLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the number of positions currently in the history. </p>
<dl class="section return"><dt>Returns</dt><dd>The count of positions in the history. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00198">198</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="position__test_8cc_source.html#l00076">lczero::TEST()</a>, and <a class="el" href="position__test_8cc_source.html#l00060">lczero::TEST()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_af58ee13dccd016977b7b9755c7a39927_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_af58ee13dccd016977b7b9755c7a39927_icgraph" alt=""/></div>
<!-- MAP 6 -->
</div>

</div>
</div>
<a id="af6dbacd97981b367816bbbc5b30b5ecf" name="af6dbacd97981b367816bbbc5b30b5ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6dbacd97981b367816bbbc5b30b5ecf">&#9670;&#160;</a></span>GetPositionAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp; lczero::PositionHistory::GetPositionAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the n-th position of the game (0-indexed). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>Index of the position to retrieve (0-based). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Constant reference to the position at the specified index. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00182">182</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="network__xla_8cc_source.html#l00063">idx</a>, and <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="position__test_8cc_source.html#l00076">lczero::TEST()</a>, and <a class="el" href="position__test_8cc_source.html#l00060">lczero::TEST()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_af6dbacd97981b367816bbbc5b30b5ecf_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_af6dbacd97981b367816bbbc5b30b5ecf_icgraph" alt=""/></div>
<!-- MAP 7 -->
</div>

</div>
</div>
<a id="ad63bcb96a0eb1194b78a4ab213436e3d" name="ad63bcb96a0eb1194b78a4ab213436e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63bcb96a0eb1194b78a4ab213436e3d">&#9670;&#160;</a></span>GetPositions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::span&lt; const <a class="el" href="classlczero_1_1Position.html">Position</a> &gt; lczero::PositionHistory::GetPositions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a span view of all positions in the history. </p>
<dl class="section return"><dt>Returns</dt><dd>A span containing constant references to all positions in the history. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00239">239</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="encoder_8cc_source.html#l00330">lczero::EncodePositionForNN()</a>, <a class="el" href="dag__classic_2search_8cc_source.html#l02016">lczero::dag_classic::SearchWorker::ExtendNode()</a>, and <a class="el" href="multigame_8cc_source.html#l00067">lczero::ValueEvaluator::Gather()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_ad63bcb96a0eb1194b78a4ab213436e3d_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_ad63bcb96a0eb1194b78a4ab213436e3d_icgraph" alt=""/></div>
<!-- MAP 8 -->
</div>

</div>
</div>
<a id="a29b4e8cd1f616cf1e3fdc0ef9d11f4c8" name="a29b4e8cd1f616cf1e3fdc0ef9d11f4c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b4e8cd1f616cf1e3fdc0ef9d11f4c8">&#9670;&#160;</a></span>HashLast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t lczero::PositionHistory::HashLast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>positions</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a hash from the last X positions in the history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">positions</td><td>Number of recent positions to include in the hash. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Combined hash of the specified number of recent positions. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00141">141</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="hashcat_8h_source.html#l00041">lczero::HashCat()</a>, <a class="el" href="position_8h_source.html#l00177">Last()</a>, and <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="dag__classic_2search_8cc_source.html#l02016">lczero::dag_classic::SearchWorker::ExtendNode()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../css/closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a29b4e8cd1f616cf1e3fdc0ef9d11f4c8_cgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a29b4e8cd1f616cf1e3fdc0ef9d11f4c8_cgraph" alt=""/></div>
<!-- MAP 9 -->
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a29b4e8cd1f616cf1e3fdc0ef9d11f4c8_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a29b4e8cd1f616cf1e3fdc0ef9d11f4c8_icgraph" alt=""/></div>
<!-- MAP 10 -->
</div>

</div>
</div>
<a id="a44924455ccd62f0f2f2798dd403ba4f5" name="a44924455ccd62f0f2f2798dd403ba4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44924455ccd62f0f2f2798dd403ba4f5">&#9670;&#160;</a></span>IsBlackToMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lczero::PositionHistory::IsBlackToMove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the next move in the history should be black's. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the next move should be black's, false if white's. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00224">224</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00069">lczero::Position::IsBlackToMove()</a>, and <a class="el" href="position_8h_source.html#l00177">Last()</a>.</p>

<p class="reference">Referenced by <a class="el" href="weights_8h_source.html#l00288">lczero::python::GameState::as_string()</a>, <a class="el" href="position_8cc_source.html#l00075">ComputeGameResult()</a>, <a class="el" href="classic_2search_8cc_source.html#l00711">lczero::classic::Search::EnsureBestMoveKnown()</a>, <a class="el" href="dag__classic_2search_8cc_source.html#l02134">lczero::dag_classic::SearchWorker::FetchSingleNodeResult()</a>, <a class="el" href="classic_2search_8cc_source.html#l00670">lczero::classic::Search::GetBestEval()</a>, <a class="el" href="classic_2search_8cc_source.html#l00436">lczero::classic::Search::GetDrawScore()</a>, <a class="el" href="classic_2search_8cc_source.html#l00476">lczero::classic::Search::GetVerboseStats()</a>, <a class="el" href="weights_8h_source.html#l00268">lczero::python::GameState::moves()</a>, <a class="el" href="classic_2search_8cc_source.html#l00158">lczero::classic::Search::Search()</a>, <a class="el" href="classic_2search_8cc_source.html#l00592">lczero::classic::Search::SendMovesStats()</a>, and <a class="el" href="classic_2search_8cc_source.html#l00271">lczero::classic::Search::SendUciInfo()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../css/closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a44924455ccd62f0f2f2798dd403ba4f5_cgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a44924455ccd62f0f2f2798dd403ba4f5_cgraph" alt=""/></div>
<!-- MAP 11 -->
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a44924455ccd62f0f2f2798dd403ba4f5_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a44924455ccd62f0f2f2798dd403ba4f5_icgraph" alt=""/></div>
<!-- MAP 12 -->
</div>

</div>
</div>
<a id="a3c88c46b830873770fe811722aad10ae" name="a3c88c46b830873770fe811722aad10ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c88c46b830873770fe811722aad10ae">&#9670;&#160;</a></span>Last()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp; lczero::PositionHistory::Last </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the latest position of the game. </p>
<dl class="section return"><dt>Returns</dt><dd>Constant reference to the last position in the history. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00177">177</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="trainingdata_8cc_source.html#l00114">lczero::V6TrainingDataArray::Add()</a>, <a class="el" href="position_8cc_source.html#l00105">Append()</a>, <a class="el" href="weights_8h_source.html#l00288">lczero::python::GameState::as_string()</a>, <a class="el" href="position_8cc_source.html#l00075">ComputeGameResult()</a>, <a class="el" href="classic_2search_8cc_source.html#l00711">lczero::classic::Search::EnsureBestMoveKnown()</a>, <a class="el" href="classic_2search_8cc_source.html#l01977">lczero::classic::SearchWorker::ExtendNode()</a>, <a class="el" href="dag__classic_2search_8cc_source.html#l02016">lczero::dag_classic::SearchWorker::ExtendNode()</a>, <a class="el" href="weights_8h_source.html#l00237">lczero::python::GameState::GameState()</a>, <a class="el" href="position_8cc_source.html#l00141">HashLast()</a>, <a class="el" href="classic_2node_8h_source.html#l00881">lczero::classic::NodeTree::HeadPosition()</a>, <a class="el" href="dag__classic_2node_8h_source.html#l01099">lczero::dag_classic::NodeTree::HeadPosition()</a>, <a class="el" href="position_8h_source.html#l00224">IsBlackToMove()</a>, <a class="el" href="weights_8h_source.html#l00268">lczero::python::GameState::moves()</a>, <a class="el" href="weights_8h_source.html#l00279">lczero::python::GameState::policy_indices()</a>, <a class="el" href="encoder__test_8cc_source.html#l00490">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00423">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00286">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00322">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00029">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00076">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00060">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00106">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00137">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00092">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00154">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00121">lczero::TEST()</a>, <a class="el" href="syzygy__test_8cc_source.html#l00079">lczero::TestValidExpectation()</a>, and <a class="el" href="encoder_8cc_source.html#l00125">lczero::TransformForPosition()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a3c88c46b830873770fe811722aad10ae_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a3c88c46b830873770fe811722aad10ae_icgraph" alt=""/></div>
<!-- MAP 13 -->
</div>

</div>
</div>
<a id="a19c7bc28eb0f0bda28a575657a98948e" name="a19c7bc28eb0f0bda28a575657a98948e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c7bc28eb0f0bda28a575657a98948e">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp; lczero::PositionHistory::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator for copying position history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The other position history to assign from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this position history after assignment. </dd></dl>

</div>
</div>
<a id="a2a8a21c80faf68cf8bff2f76feae473e" name="a2a8a21c80faf68cf8bff2f76feae473e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a8a21c80faf68cf8bff2f76feae473e">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp; lczero::PositionHistory::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlczero_1_1Move.html" title="Represents a chess move in the Lc0 engine.">Move</a> assignment operator for efficient transfer of position history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The other position history to move from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to this position history after assignment. </dd></dl>

</div>
</div>
<a id="ad96c4b8811cad9badafe7a12cc99e31c" name="ad96c4b8811cad9badafe7a12cc99e31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96c4b8811cad9badafe7a12cc99e31c">&#9670;&#160;</a></span>Pop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the last move from the history. </p>
<p>This pops the last position from the history, effectively undoing the move. </p>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00216">216</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="multigame_8cc_source.html#l00067">lczero::ValueEvaluator::Gather()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_ad96c4b8811cad9badafe7a12cc99e31c_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_ad96c4b8811cad9badafe7a12cc99e31c_icgraph" alt=""/></div>
<!-- MAP 14 -->
</div>

</div>
</div>
<a id="aacef66da70f77b031f48b2b5f3bb001d" name="aacef66da70f77b031f48b2b5f3bb001d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacef66da70f77b031f48b2b5f3bb001d">&#9670;&#160;</a></span>Reserve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Reserve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reserves capacity to reduce allocation costs during move sequences. </p>
<p>This can be used to pre-allocate space when performing a sequence of moves in succession, reducing the number of memory allocations needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The capacity to reserve. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00194">194</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classic_2search_8h_source.html#l00427">lczero::classic::SearchWorker::TaskWorkspace::TaskWorkspace()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_aacef66da70f77b031f48b2b5f3bb001d_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_aacef66da70f77b031f48b2b5f3bb001d_icgraph" alt=""/></div>
<!-- MAP 15 -->
</div>

</div>
</div>
<a id="afe95b1e359e66d71aac534b43bbd8ab1" name="afe95b1e359e66d71aac534b43bbd8ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe95b1e359e66d71aac534b43bbd8ab1">&#9670;&#160;</a></span>Reset() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Reset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlczero_1_1ChessBoard.html">ChessBoard</a> &amp;&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rule50_ply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>game_ply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the history to a given state from a chess board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>The chess board state to initialize from. </td></tr>
    <tr><td class="paramname">rule50_ply</td><td>Number of half-moves since the last capture or pawn move. </td></tr>
    <tr><td class="paramname">game_ply</td><td>Total number of half-moves since the start of the game. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00094">94</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="weights_8h_source.html#l00237">lczero::python::GameState::GameState()</a>, <a class="el" href="classic_2node_8cc_source.html#l00544">lczero::classic::NodeTree::ResetToPosition()</a>, <a class="el" href="encoder__test_8cc_source.html#l00490">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00357">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00378">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00399">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00423">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00286">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00322">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00027">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00108">lczero::TEST()</a>, <a class="el" href="encoder__test_8cc_source.html#l00197">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00029">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00076">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00060">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00106">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00137">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00092">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00154">lczero::TEST()</a>, <a class="el" href="position__test_8cc_source.html#l00121">lczero::TEST()</a>, and <a class="el" href="syzygy__test_8cc_source.html#l00079">lczero::TestValidExpectation()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_afe95b1e359e66d71aac534b43bbd8ab1_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_afe95b1e359e66d71aac534b43bbd8ab1_icgraph" alt=""/></div>
<!-- MAP 16 -->
</div>

</div>
</div>
<a id="a01aede3788a70ae5a2ad5ddaeac7cae0" name="a01aede3788a70ae5a2ad5ddaeac7cae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01aede3788a70ae5a2ad5ddaeac7cae0">&#9670;&#160;</a></span>Reset() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Reset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the history to a given state from a position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The position to initialize from. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8cc_source.html#l00100">100</a> of file <a class="el" href="position_8cc_source.html">position.cc</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

</div>
</div>
<a id="a9460b9e5c157da40316bdeeb66c253f3" name="a9460b9e5c157da40316bdeeb66c253f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9460b9e5c157da40316bdeeb66c253f3">&#9670;&#160;</a></span>Starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlczero_1_1Position.html">Position</a> &amp; lczero::PositionHistory::Starting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the first position of the game (or the FEN from which it was initialized). </p>
<dl class="section return"><dt>Returns</dt><dd>Constant reference to the starting position. </dd></dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00173">173</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classic_2node_8cc_source.html#l00544">lczero::classic::NodeTree::ResetToPosition()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a9460b9e5c157da40316bdeeb66c253f3_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a9460b9e5c157da40316bdeeb66c253f3_icgraph" alt=""/></div>
<!-- MAP 17 -->
</div>

</div>
</div>
<a id="a1195fca5294ecce5d2b31c28b0af7667" name="a1195fca5294ecce5d2b31c28b0af7667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1195fca5294ecce5d2b31c28b0af7667">&#9670;&#160;</a></span>Trim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lczero::PositionHistory::Trim </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trims the position history to a given size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The new size to trim the history to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00186">186</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">References <a class="el" href="position_8h_source.html#l00248">positions_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classic_2search_8cc_source.html#l01977">lczero::classic::SearchWorker::ExtendNode()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../css/closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlczero_1_1PositionHistory_a1195fca5294ecce5d2b31c28b0af7667_icgraph.png" border="0" usemap="#aclasslczero_1_1PositionHistory_a1195fca5294ecce5d2b31c28b0af7667_icgraph" alt=""/></div>
<!-- MAP 18 -->
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5f0aaf6201ae32b49e1f847f6d6f35d4" name="a5f0aaf6201ae32b49e1f847f6d6f35d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0aaf6201ae32b49e1f847f6d6f35d4">&#9670;&#160;</a></span>positions_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classlczero_1_1Position.html">Position</a>&gt; lczero::PositionHistory::positions_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector storing the sequence of positions in the game. </p>

<p class="definition">Definition at line <a class="el" href="position_8h_source.html#l00248">248</a> of file <a class="el" href="position_8h_source.html">position.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="position_8cc_source.html#l00105">Append()</a>, <a class="el" href="position_8cc_source.html#l00115">ComputeLastMoveRepetitions()</a>, <a class="el" href="position_8cc_source.html#l00132">DidRepeatSinceLastZeroingMove()</a>, <a class="el" href="position_8h_source.html#l00198">GetLength()</a>, <a class="el" href="position_8h_source.html#l00182">GetPositionAt()</a>, <a class="el" href="position_8h_source.html#l00239">GetPositions()</a>, <a class="el" href="position_8cc_source.html#l00141">HashLast()</a>, <a class="el" href="position_8h_source.html#l00177">Last()</a>, <a class="el" href="position_8h_source.html#l00216">Pop()</a>, <a class="el" href="position_8h_source.html#l00194">Reserve()</a>, <a class="el" href="position_8cc_source.html#l00094">Reset()</a>, <a class="el" href="position_8cc_source.html#l00100">Reset()</a>, <a class="el" href="position_8h_source.html#l00173">Starting()</a>, and <a class="el" href="position_8h_source.html#l00186">Trim()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>chess/<a class="el" href="position_8h_source.html">position.h</a></li>
<li>chess/<a class="el" href="position_8cc_source.html">position.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelczero.html">lczero</a></li><li class="navelem"><a class="el" href="classlczero_1_1PositionHistory.html">PositionHistory</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
